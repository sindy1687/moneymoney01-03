<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¯€æ—¥æ…¶å…¸ä¸»é¡Œè¦–é »æ¸¬è©¦</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="festive-theme.css">
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-title {
            font-size: 28px;
            font-weight: bold;
            color: #E63946;
            margin-bottom: 10px;
        }
        
        .test-subtitle {
            font-size: 16px;
            color: #666;
        }
        
        .theme-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .theme-btn {
            padding: 10px 20px;
            border: 2px solid #E63946;
            background: white;
            color: #E63946;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .theme-btn:hover {
            background: #E63946;
            color: white;
            transform: translateY(-2px);
        }
        
        .theme-btn.active {
            background: #E63946;
            color: white;
        }
        
        .video-info {
            background: rgba(230, 57, 70, 0.1);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            border-left: 4px solid #E63946;
        }
        
        .video-status {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .video-details {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }
        
        .test-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .test-card {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #E63946;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .test-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(230, 57, 70, 0.3);
        }
        
        .test-card-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }
        
        .test-card-title {
            font-size: 16px;
            font-weight: bold;
            color: #E63946;
            margin-bottom: 5px;
        }
        
        .test-card-value {
            font-size: 14px;
            color: #666;
        }
        
        .console-log {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 12px;
            margin-top: 20px;
            max-height: 200px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
    </style>
</head>
<body data-theme="festive">
    <div class="theme-video-background" aria-hidden="true">
        <video id="moneyThemeVideo" class="theme-video" autoplay loop muted playsinline preload="auto">
            <source src="https://v1.pinimg.com/videos/iht/expMp4/a4/53/29/a45329a21920d8db7a7f778daa592453_720w.mp4" type="video/mp4">
        </video>
        <video id="spaceThemeVideo" class="theme-video" autoplay loop muted playsinline preload="auto">
            <source src="https://v1.pinimg.com/videos/iht/720p/4e/00/d1/4e00d1999152ab007ebe4aef36d5e2c9.mp4" type="video/mp4">
        </video>
        <video id="shinchanPoolThemeVideo" class="theme-video" autoplay loop muted playsinline preload="auto">
            <source src="https://v1.pinimg.com/videos/iht/expMp4/76/35/eb/7635eb2cc1d1c08a867742f7144faf11_720w.mp4" type="video/mp4">
        </video>
        <video id="festiveThemeVideo" class="theme-video" autoplay loop muted playsinline preload="auto">
            <source src="https://v1.pinimg.com/videos/iht/expMp4/4f/eb/42/4feb42e38cce1f3ab5505cf0cee1d2e3_720w.mp4" type="video/mp4">
        </video>
        <div class="theme-video-gradient"></div>
    </div>

    <div class="test-container">
        <div class="test-header">
            <div class="test-title">ğŸŠ å°æ–°ç¾æ—¥ä¸»é¡Œè¦–é »æ¸¬è©¦</div>
            <div class="test-subtitle">æ¸¬è©¦å°æ–°ç¾æ—¥ä¸»é¡Œçš„å‹•æ…‹è¦–é »èƒŒæ™¯æ•ˆæœ</div>
        </div>

        <div class="theme-controls">
            <button class="theme-btn" onclick="switchTheme('blue')">è—è‰²ä¸»é¡Œ</button>
            <button class="theme-btn" onclick="switchTheme('festive')">å°æ–°ç¾æ—¥</button>
            <button class="theme-btn" onclick="switchTheme('money')">é‡‘éŒ¢ä¸»é¡Œ</button>
            <button class="theme-btn" onclick="switchTheme('space')">å¤ªç©ºä¸»é¡Œ</button>
            <button class="theme-btn" onclick="switchTheme('shinchanPool')">èœ¡ç¬”å°æ–°</button>
        </div>

        <div class="video-info">
            <div class="video-status" id="videoStatus">ğŸ¬ æ­£åœ¨è¼‰å…¥å°æ–°ç¾æ—¥è¦–é »...</div>
            <div class="video-details">
                <div>ğŸ“¹ è¦–é »URL: https://v1.pinimg.com/videos/iht/expMp4/4f/eb/42/4feb42e38cce1f3ab5505cf0cee1d2e3_720w.mp4</div>
                <div>ğŸ¨ ä¸»é¡ŒID: <span id="currentTheme">festive</span></div>
                <div>ğŸ”„ è¦–é »ç‹€æ…‹: <span id="videoState">æª¢æŸ¥ä¸­...</span></div>
                <div>â±ï¸ è¼‰å…¥æ™‚é–“: <span id="loadTime">è¨ˆç®—ä¸­...</span></div>
            </div>
        </div>

        <div class="test-cards">
            <div class="test-card">
                <div class="test-card-icon">ğŸŠ</div>
                <div class="test-card-title">å°æ–°ç¾æ—¥</div>
                <div class="test-card-value">æ­¡æ¨‚æ…¶ç¥</div>
            </div>
            <div class="test-card">
                <div class="test-card-icon">ğŸ‰</div>
                <div class="test-card-title">æ´¾å°æ™‚é–“</div>
                <div class="test-card-value">ç²¾å½©æ™‚åˆ»</div>
            </div>
            <div class="test-card">
                <div class="test-card-icon">ğŸˆ</div>
                <div class="test-card-title">æ°£çƒé£„æš</div>
                <div class="test-card-value">å–œæ…¶æ°›åœ</div>
            </div>
            <div class="test-card">
                <div class="test-card-icon">ğŸ</div>
                <div class="test-card-title">ç¦®ç‰©äº¤æ›</div>
                <div class="test-card-value">é©šå–œä¸æ–·</div>
            </div>
        </div>

        <div class="console-log" id="consoleLog">æ­£åœ¨åˆå§‹åŒ–æ¸¬è©¦ç’°å¢ƒ...</div>
    </div>

    <script>
        let startTime = Date.now();
        let currentTheme = 'festive';
        
        // è¦–é »æ§åˆ¶å™¨
        const themeVideoController = {
            setActive: (themeId) => {
                const containerEl = document.querySelector('.theme-video-background');
                const moneyVideoEl = document.getElementById('moneyThemeVideo');
                const spaceVideoEl = document.getElementById('spaceThemeVideo');
                const shinchanPoolVideoEl = document.getElementById('shinchanPoolThemeVideo');
                const festiveVideoEl = document.getElementById('festiveThemeVideo');
                
                if (!containerEl) return;
                
                // æš«åœæ‰€æœ‰è¦–é »
                [moneyVideoEl, spaceVideoEl, shinchanPoolVideoEl, festiveVideoEl].forEach(video => {
                    if (video) video.pause();
                });
                
                const isActive = ['money', 'space', 'shinchanPool', 'festive'].includes(themeId);
                containerEl.classList.toggle('active', isActive);
                
                // éš±è—æ‰€æœ‰è¦–é »
                [moneyVideoEl, spaceVideoEl, shinchanPoolVideoEl, festiveVideoEl].forEach(video => {
                    if (video) video.style.display = 'none';
                });
                
                if (isActive) {
                    let activeVideo = null;
                    
                    switch(themeId) {
                        case 'money':
                            activeVideo = moneyVideoEl;
                            break;
                        case 'space':
                            activeVideo = spaceVideoEl;
                            break;
                        case 'shinchanPool':
                            activeVideo = shinchanPoolVideoEl;
                            break;
                        case 'festive':
                            activeVideo = festiveVideoEl;
                            break;
                    }
                    
                    if (activeVideo) {
                        activeVideo.style.display = 'block';
                        activeVideo.currentTime = 0;
                        activeVideo.play().catch(e => {
                            logMessage(`âš ï¸ è¦–é »æ’­æ”¾å¤±æ•—: ${e.message}`);
                        });
                        logMessage(`âœ… ${themeId} è¦–é »é–‹å§‹æ’­æ”¾`);
                    }
                }
                
                updateVideoStatus(themeId);
            }
        };
        
        function switchTheme(themeId) {
            currentTheme = themeId;
            document.body.setAttribute('data-theme', themeId);
            document.getElementById('currentTheme').textContent = themeId;
            
            // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // åˆ‡æ›è¦–é »
            themeVideoController.setActive(themeId);
            
            logMessage(`ğŸ¨ ä¸»é¡Œåˆ‡æ›åˆ°: ${themeId}`);
        }
        
        function updateVideoStatus(themeId) {
            const videoEl = document.getElementById(`${themeId}ThemeVideo`);
            const statusEl = document.getElementById('videoStatus');
            const stateEl = document.getElementById('videoState');
            
            if (videoEl) {
                statusEl.textContent = `ğŸ¬ æ­£åœ¨æ’­æ”¾ ${getThemeName(themeId)} è¦–é »`;
                
                videoEl.addEventListener('loadeddata', () => {
                    stateEl.textContent = 'å·²è¼‰å…¥';
                    logMessage(`ğŸ“¹ ${themeId} è¦–é »è¼‰å…¥å®Œæˆ`);
                });
                
                videoEl.addEventListener('playing', () => {
                    stateEl.textContent = 'æ’­æ”¾ä¸­';
                    logMessage(`â–¶ï¸ ${themeId} è¦–é »é–‹å§‹æ’­æ”¾`);
                });
                
                videoEl.addEventListener('error', (e) => {
                    stateEl.textContent = 'è¼‰å…¥å¤±æ•—';
                    logMessage(`âŒ ${themeId} è¦–é »è¼‰å…¥å¤±æ•—: ${e.message}`);
                });
            }
        }
        
        function getThemeName(themeId) {
            const names = {
                'blue': 'è—è‰²',
                'festive': 'å°æ–°ç¾æ—¥',
                'money': 'é‡‘éŒ¢',
                'space': 'å¤ªç©º',
                'shinchanPool': 'èœ¡ç¬”å°æ–°'
            };
            return names[themeId] || themeId;
        }
        
        function logMessage(message) {
            const logEl = document.getElementById('consoleLog');
            const timestamp = new Date().toLocaleTimeString();
            logEl.textContent += `[${timestamp}] ${message}\n`;
            logEl.scrollTop = logEl.scrollHeight;
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            const loadTime = Date.now() - startTime;
            document.getElementById('loadTime').textContent = `${loadTime}ms`;
            
            // è¨­ç½®åˆå§‹ä¸»é¡Œ
            themeVideoController.setActive('festive');
            
            // è¨­ç½®åˆå§‹æŒ‰éˆ•ç‹€æ…‹
            document.querySelector('.theme-btn:nth-child(2)').classList.add('active');
            
            logMessage('ğŸš€ æ¸¬è©¦é é¢åˆå§‹åŒ–å®Œæˆ');
            logMessage('ğŸ¯ ç•¶å‰ä¸»é¡Œ: festive (å°æ–°ç¾æ—¥)');
            logMessage('ğŸ“¹ è¦–é »URL å·²è¨­ç½®');
        });
    </script>
</body>
</html>
