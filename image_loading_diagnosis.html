<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èƒŒæ™¯åœ–ç‰‡è¼‰å…¥è¨ºæ–·</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .section {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .btn {
            margin: 5px;
            padding: 8px 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            background: white;
        }
        .btn:hover {
            background: #f0f0f0;
        }
        .output {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
        }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
        .warning { color: orange; font-weight: bold; }
        .image-test {
            width: 300px;
            height: 200px;
            margin: 10px;
            border: 2px solid #ccc;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
    </style>
</head>
<body data-theme="cuteCats">
    <div class="container">
        <h1>èƒŒæ™¯åœ–ç‰‡è¼‰å…¥è¨ºæ–·</h1>
        
        <div class="section">
            <h3>æ­¥é©Ÿ 1: æª¢æŸ¥åœ–ç‰‡URL</h3>
            <button class="btn" onclick="checkImageURL()">æª¢æŸ¥åŸå§‹åœ–ç‰‡URL</button>
            <button class="btn" onclick="testAlternativeURLs()">æ¸¬è©¦æ›¿ä»£URL</button>
            <div id="urlOutput" class="output">é»æ“ŠæŒ‰éˆ•é–‹å§‹æª¢æŸ¥...</div>
        </div>
        
        <div class="section">
            <h3>æ­¥é©Ÿ 2: æ¸¬è©¦åœ–ç‰‡è¼‰å…¥</h3>
            <button class="btn" onclick="testImageLoading()">æ¸¬è©¦åœ–ç‰‡è¼‰å…¥</button>
            <button class="btn" onclick="testBackgroundImage()">æ¸¬è©¦èƒŒæ™¯åœ–ç‰‡</button>
            <div id="loadingOutput" class="output">é»æ“ŠæŒ‰éˆ•é–‹å§‹æª¢æŸ¥...</div>
        </div>
        
        <div class="section">
            <h3>æ­¥é©Ÿ 3: æ¸¬è©¦é ç®—è¨­å®šæ¨¡æ…‹æ¡†</h3>
            <button class="btn" onclick="testBudgetModalWithImage()">æ¸¬è©¦é ç®—æ¨¡æ…‹æ¡†</button>
            <button class="btn" onclick="testWithLocalImage()">ä½¿ç”¨æœ¬åœ°åœ–ç‰‡æ¸¬è©¦</button>
            <div id="modalOutput" class="output">é»æ“ŠæŒ‰éˆ•é–‹å§‹æª¢æŸ¥...</div>
        </div>
        
        <div class="section">
            <h3>åœ–ç‰‡æ¸¬è©¦å€åŸŸ</h3>
            <div id="imageTestArea"></div>
        </div>
        
        <div class="section">
            <h3>é ç®—è¨­å®šæ¸¬è©¦å€åŸŸ</h3>
            <div id="budgetTestArea"></div>
        </div>
    </div>
    
    <script>
        const originalImageURL = 'https://i.pinimg.com/1200x/95/64/99/956499812b93c3c5bf8226051c7e627f.jpg';
        
        function checkImageURL() {
            const output = document.getElementById('urlOutput');
            output.innerHTML = 'æ­£åœ¨æª¢æŸ¥åŸå§‹åœ–ç‰‡URL...\n';
            
            // å‰µå»ºåœ–ç‰‡å°è±¡æ¸¬è©¦è¼‰å…¥
            const img = new Image();
            img.onload = function() {
                output.innerHTML += `âœ… åœ–ç‰‡è¼‰å…¥æˆåŠŸ\n`;
                output.innerHTML += `åœ–ç‰‡å°ºå¯¸: ${this.width} x ${this.height}\n`;
                output.innerHTML += `åŸå§‹URL: ${originalImageURL}\n`;
                output.innerHTML += `åœ–ç‰‡å¯è¨ªå•æ€§: æ­£å¸¸\n`;
            };
            img.onerror = function() {
                output.innerHTML += `âŒ åœ–ç‰‡è¼‰å…¥å¤±æ•—\n`;
                output.innerHTML += `åŸå§‹URL: ${originalImageURL}\n`;
                output.innerHTML += `å¯èƒ½åŸå› :\n`;
                output.innerHTML += `- åœ–ç‰‡URLç„¡æ•ˆæˆ–å·²å¤±æ•ˆ\n`;
                output.innerHTML += `- ç¶²è·¯é€£æ¥å•é¡Œ\n`;
                output.innerHTML += `- è·¨åŸŸé™åˆ¶\n`;
                output.innerHTML += `- åœ–ç‰‡ä¼ºæœå™¨å•é¡Œ\n`;
                output.innerHTML += `\nå»ºè­°: å˜—è©¦æ›¿ä»£URLæˆ–ä½¿ç”¨æœ¬åœ°åœ–ç‰‡`;
            };
            img.src = originalImageURL;
        }
        
        function testAlternativeURLs() {
            const output = document.getElementById('urlOutput');
            output.innerHTML = 'æ­£åœ¨æ¸¬è©¦æ›¿ä»£URL...\n';
            
            const alternativeURLs = [
                'https://i.pinimg.com/736x/95/64/99/956499812b93c3c5bf8226051c7e627f.jpg',
                'https://picsum.photos/800/600',
                'https://source.unsplash.com/800x600/?nature',
                'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgZmlsbD0iIzAwYi9mZiIvPjx0ZXh0IHg9IjQwMCIgeT0iMzAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXNpemU9IjQ4IiBmaWxsPSJ3aGl0ZSI+5L2g5aW9IOi9rOWbvjwvdGV4dD48L3N2Zz4='
            ];
            
            let results = '';
            let completedTests = 0;
            
            alternativeURLs.forEach((url, index) => {
                const img = new Image();
                img.onload = function() {
                    results += `âœ… æ›¿ä»£URL ${index + 1}: æˆåŠŸ (${this.width}x${this.height})\n`;
                    results += `   URL: ${url}\n`;
                    completedTests++;
                    if (completedTests === alternativeURLs.length) {
                        output.innerHTML = results + '\nå»ºè­°: ä½¿ç”¨è¼‰å…¥æˆåŠŸçš„URLæ›¿æ›åŸå§‹URL';
                    }
                };
                img.onerror = function() {
                    results += `âŒ æ›¿ä»£URL ${index + 1}: å¤±æ•—\n`;
                    results += `   URL: ${url}\n`;
                    completedTests++;
                    if (completedTests === alternativeURLs.length) {
                        output.innerHTML = results + '\nå»ºè­°: æ‰€æœ‰æ›¿ä»£URLéƒ½å¤±æ•—ï¼Œéœ€è¦ä½¿ç”¨å…¶ä»–åœ–ç‰‡';
                    }
                };
                img.src = url;
            });
        }
        
        function testImageLoading() {
            const output = document.getElementById('loadingOutput');
            const testArea = document.getElementById('imageTestArea');
            
            output.innerHTML = 'æ­£åœ¨æ¸¬è©¦åœ–ç‰‡è¼‰å…¥...\n';
            testArea.innerHTML = '';
            
            // æ¸¬è©¦ç›´æ¥åœ–ç‰‡è¼‰å…¥
            const img = document.createElement('img');
            img.style.maxWidth = '300px';
            img.style.maxHeight = '200px';
            img.style.border = '1px solid #ccc';
            img.style.margin = '5px';
            
            img.onload = function() {
                output.innerHTML += `âœ… ç›´æ¥åœ–ç‰‡è¼‰å…¥æˆåŠŸ\n`;
                output.innerHTML += `å°ºå¯¸: ${this.width}x${this.height}\n`;
            };
            
            img.onerror = function() {
                output.innerHTML += `âŒ ç›´æ¥åœ–ç‰‡è¼‰å…¥å¤±æ•—\n`;
            };
            
            img.src = originalImageURL;
            testArea.appendChild(img);
            
            // æ¸¬è©¦èƒŒæ™¯åœ–ç‰‡è¼‰å…¥
            const bgDiv = document.createElement('div');
            bgDiv.className = 'image-test';
            bgDiv.style.backgroundImage = `url(${originalImageURL})`;
            bgDiv.textContent = 'èƒŒæ™¯åœ–ç‰‡æ¸¬è©¦';
            bgDiv.style.color = 'white';
            bgDiv.style.fontWeight = 'bold';
            bgDiv.style.textShadow = '2px 2px 4px rgba(0,0,0,0.8)';
            
            testArea.appendChild(bgDiv);
            
            setTimeout(() => {
                const computedStyle = window.getComputedStyle(bgDiv);
                const hasBackground = computedStyle.backgroundImage !== 'none' && 
                                   computedStyle.backgroundImage !== 'initial';
                
                output.innerHTML += `èƒŒæ™¯åœ–ç‰‡: ${hasBackground ? 'âœ… æˆåŠŸ' : 'âŒ å¤±æ•—'}\n`;
                output.innerHTML += `èƒŒæ™¯æ¨£å¼: ${computedStyle.backgroundImage}\n`;
            }, 1000);
        }
        
        function testBackgroundImage() {
            const output = document.getElementById('loadingOutput');
            const testArea = document.getElementById('imageTestArea');
            
            output.innerHTML = 'æ­£åœ¨æ¸¬è©¦èƒŒæ™¯åœ–ç‰‡CSS...\n';
            
            // å‰µå»ºæ¸¬è©¦å…ƒç´ 
            const testDiv = document.createElement('div');
            testDiv.className = 'budget-setting-modal-content';
            testDiv.style.cssText = 'width: 300px; height: 200px; margin: 10px; padding: 20px; border: 2px solid #ccc; border-radius: 8px;';
            testDiv.innerHTML = '<h3>é ç®—è¨­å®šæ¨¡æ…‹æ¡†æ¸¬è©¦</h3><p>é€™æ˜¯ä¸€å€‹æ¸¬è©¦å…ƒç´ </p>';
            
            testArea.appendChild(testDiv);
            
            setTimeout(() => {
                const computedStyle = window.getComputedStyle(testDiv);
                const hasBackgroundImage = computedStyle.backgroundImage.includes('956499812b93c3c5bf8226051c7e627f');
                
                output.innerHTML += `CSSèƒŒæ™¯åœ–ç‰‡: ${hasBackgroundImage ? 'âœ… æˆåŠŸ' : 'âŒ å¤±æ•—'}\n`;
                output.innerHTML += `èƒŒæ™¯URL: ${computedStyle.backgroundImage}\n`;
                output.innerHTML += `èƒŒæ™¯é¡è‰²: ${computedStyle.backgroundColor}\n`;
                output.innerHTML += `æ··åˆæ¨¡å¼: ${computedStyle.backgroundBlendMode}\n`;
                
                if (!hasBackgroundImage) {
                    output.innerHTML += `\nâŒ CSSèƒŒæ™¯åœ–ç‰‡æœªè¼‰å…¥\n`;
                    output.innerHTML += `å¯èƒ½åŸå› :\n`;
                    output.innerHTML += `- CSSè¦å‰‡æœªæ­£ç¢ºæ‡‰ç”¨\n`;
                    output.innerHTML += `- åœ–ç‰‡URLç„¡æ•ˆ\n`;
                    output.innerHTML += `- ç€è¦½å™¨ç·©å­˜å•é¡Œ\n`;
                }
            }, 500);
        }
        
        function testBudgetModalWithImage() {
            const output = document.getElementById('modalOutput');
            const testArea = document.getElementById('budgetTestArea');
            
            output.innerHTML = 'æ­£åœ¨æ¸¬è©¦é ç®—è¨­å®šæ¨¡æ…‹æ¡†...\n';
            
            // å‰µå»ºé ç®—è¨­å®šæ¨¡æ…‹æ¡†
            const modal = document.createElement('div');
            modal.className = 'budget-setting-modal';
            modal.innerHTML = `
                <div class="budget-setting-modal-content">
                    <h2 style="margin: 0 0 20px 0; font-size: 22px; font-weight: 600; color: var(--text-primary); display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 28px;">ğŸ½ï¸</span>
                        é¤é£² - é ç®—è¨­å®š
                    </h2>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 500; color: var(--text-primary);">æœˆåº¦é ç®—é‡‘é¡</label>
                        <input type="number" placeholder="è¼¸å…¥é ç®—é‡‘é¡" style="width: 100%; padding: 12px; border: 2px solid var(--border-light); border-radius: 8px; background: rgba(255, 255, 255, 0.8);">
                    </div>
                    <button onclick="this.closest('.budget-setting-modal').remove()" style="padding: 10px 20px; border: none; border-radius: 8px; background: var(--color-primary); color: white; cursor: pointer;">é—œé–‰</button>
                </div>
            `;
            
            testArea.appendChild(modal);
            
            setTimeout(() => {
                const modalContent = modal.querySelector('.budget-setting-modal-content');
                if (modalContent) {
                    const computedStyle = window.getComputedStyle(modalContent);
                    const hasBackgroundImage = computedStyle.backgroundImage.includes('956499812b93c3c5bf8226051c7e627f');
                    
                    output.innerHTML += `é ç®—è¨­å®šæ¨¡æ…‹æ¡†: ${hasBackgroundImage ? 'âœ… æœ‰èƒŒæ™¯åœ–ç‰‡' : 'âŒ ç„¡èƒŒæ™¯åœ–ç‰‡'}\n`;
                    output.innerHTML += `èƒŒæ™¯URL: ${computedStyle.backgroundImage}\n`;
                    output.innerHTML += `èƒŒæ™¯é¡è‰²: ${computedStyle.backgroundColor}\n`;
                    output.innerHTML += `æ··åˆæ¨¡å¼: ${computedStyle.backgroundBlendMode}\n`;
                    output.innerHTML += `æ¯›ç»ç’ƒ: ${computedStyle.backdropFilter}\n`;
                    
                    if (!hasBackgroundImage) {
                        output.innerHTML += `\nâŒ é ç®—è¨­å®šæ¨¡æ…‹æ¡†æ²’æœ‰èƒŒæ™¯åœ–ç‰‡\n`;
                        output.innerHTML += `å»ºè­°æª¢æŸ¥:\n`;
                        output.innerHTML += `1. åœ–ç‰‡URLæ˜¯å¦æœ‰æ•ˆ\n`;
                        output.innerHTML += `2. CSSè¦å‰‡æ˜¯å¦æ­£ç¢ºè¼‰å…¥\n`;
                        output.innerHTML += `3. ç€è¦½å™¨ç·©å­˜æ˜¯å¦éœ€è¦æ¸…é™¤\n`;
                    }
                }
            }, 500);
        }
        
        function testWithLocalImage() {
            const output = document.getElementById('modalOutput');
            const testArea = document.getElementById('budgetTestArea');
            
            output.innerHTML = 'æ­£åœ¨ä½¿ç”¨æœ¬åœ°åœ–ç‰‡æ¸¬è©¦...\n';
            
            // ä½¿ç”¨SVGä½œç‚ºæœ¬åœ°åœ–ç‰‡
            const localImageURL = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImJnIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZmY2OWI5O3N0b3Atb3BhY2l0eToxIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2ZmOWVjYTtzdG9wLW9wYWNpdHk6MSIgLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iODAwIiBoZWlnaHQ9IjYwMCIgZmlsbD0idXJsKCNiZykiLz48Y2lyY2xlIGN4PSIyMDAiIGN5PSIxNTAiIHI9IjUwIiBmaWxsPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMykiLz48Y2lyY2xlIGN4PSI0MDAiIGN5PSIxNTAiIHI9IjUwIiBmaWxsPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMykiLz48Y2lyY2xlIGN4PSI2MDAiIGN5PSIxNTAiIHI9IjUwIiBmaWxsPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMykiLz48dGV4dCB4PSI0MDAiIHk9IjM1MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1zaXplPSI0OCIgZmlsbD0id2hpdGUiPuWbvueJh+WKoOi9rOWbvjwvdGV4dD48L3N2Zz4=';
            
            // å‰µå»ºæ¸¬è©¦æ¨¡æ…‹æ¡†
            const modal = document.createElement('div');
            modal.className = 'budget-setting-modal';
            modal.innerHTML = `
                <div class="budget-setting-modal-content" style="background-image: url('${localImageURL}'); background-size: cover; background-position: center;">
                    <h2 style="margin: 0 0 20px 0; font-size: 22px; font-weight: 600; color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.8); display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 28px;">ğŸ½ï¸</span>
                        é¤é£² - é ç®—è¨­å®š (æœ¬åœ°åœ–ç‰‡)
                    </h2>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 500; color: white; text-shadow: 2px 2px 4px rgba(0,0,0,0.8);">æœˆåº¦é ç®—é‡‘é¡</label>
                        <input type="number" placeholder="è¼¸å…¥é ç®—é‡‘é¡" style="width: 100%; padding: 12px; border: 2px solid rgba(255,255,255,0.5); border-radius: 8px; background: rgba(255, 255, 255, 0.9);">
                    </div>
                    <button onclick="this.closest('.budget-setting-modal').remove()" style="padding: 10px 20px; border: none; border-radius: 8px; background: rgba(255, 255, 255, 0.9); color: #333; cursor: pointer;">é—œé–‰</button>
                </div>
            `;
            
            testArea.appendChild(modal);
            
            setTimeout(() => {
                const modalContent = modal.querySelector('.budget-setting-modal-content');
                if (modalContent) {
                    const computedStyle = window.getComputedStyle(modalContent);
                    
                    output.innerHTML += `æœ¬åœ°åœ–ç‰‡æ¸¬è©¦: âœ… æˆåŠŸ\n`;
                    output.innerHTML += `èƒŒæ™¯URL: ${computedStyle.backgroundImage.substring(0, 100)}...\n`;
                    output.innerHTML += `èƒŒæ™¯é¡è‰²: ${computedStyle.backgroundColor}\n`;
                    output.innerHTML += `\nâœ… æœ¬åœ°åœ–ç‰‡å¯ä»¥æ­£å¸¸é¡¯ç¤º\n`;
                    output.innerHTML += `å¦‚æœåŸå§‹åœ–ç‰‡ç„¡æ³•è¼‰å…¥ï¼Œå»ºè­°:\n`;
                    output.innerHTML += `1. ä½¿ç”¨æ›¿ä»£åœ–ç‰‡URL\n`;
                    output.innerHTML += `2. ä½¿ç”¨æœ¬åœ°åœ–ç‰‡\n`;
                    output.innerHTML += `3. æª¢æŸ¥åŸå§‹åœ–ç‰‡URLçš„æœ‰æ•ˆæ€§`;
                }
            }, 500);
        }
        
        // é é¢è¼‰å…¥æ™‚è‡ªå‹•æª¢æŸ¥
        window.addEventListener('load', () => {
            setTimeout(checkImageURL, 500);
        });
    </script>
</body>
</html>
